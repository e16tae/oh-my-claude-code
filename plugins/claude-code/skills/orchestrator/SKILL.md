---
name: orchestrator
description: |
  AI CLI 오케스트레이션 스킬.

  ## 트리거 키워드
  - "먼저 ... 그다음 ...", "... 후에 ..."
  - "순차적으로", "파이프라인으로"
  - "조합해서", "연결해서"

  ## 주요 역할
  - 여러 서브 에이전트 작업 조율
  - 작업 결과 전달 및 변환
  - 에러 시 폴백 처리
allowed-tools: Bash, Read, Write, Glob, Grep
---

# Orchestrator Skill

여러 AI CLI를 파이프라인으로 연결하여 복합 작업을 수행합니다.

## 파이프라인 패턴

### 패턴 1: 생성 → 리뷰
```
codex (코드 생성) → gemini (코드 리뷰) → 결과 반영
```

### 패턴 2: 분석 → 수정
```
gemini (문제 분석) → codex (코드 수정) → gemini (검증)
```

### 패턴 3: 병렬 실행
```
[codex (옵션 A)] + [codex (옵션 B)] → 비교 후 선택
```

## 결과 전달 형식
```json
{
  "stage": 1,
  "agent": "codex",
  "output": "생성된 코드",
  "passTo": "gemini",
  "context": "리뷰 요청"
}
```

## 워크플로우

1. **작업 파싱**: 사용자 요청에서 파이프라인 단계 추출
2. **에이전트 매핑**: 각 단계에 적합한 서브 에이전트 선택
3. **순차 실행**: 각 단계를 순서대로 실행하며 결과 전달
4. **결과 통합**: 최종 결과를 사용자에게 제시

## 에러 핸들링

- 개별 단계 실패 시: 해당 단계 재시도 또는 대체 에이전트 사용
- 전체 파이프라인 실패 시: Claude가 직접 처리하도록 폴백
